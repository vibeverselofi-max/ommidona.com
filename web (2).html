<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Resume Builder — Two Column Editor</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{--accent:#2b6cb0;--dark:#222;--muted:#6b7280}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;margin:0;background:#f3f6f9;color:#0f1724}
    .wrap{max-width:1100px;margin:28px auto;padding:18px}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}
    header h1{font-size:20px;margin:0}
    .grid{display:grid;grid-template-columns:420px 1fr;gap:18px}
    .panel{background:#fff;border-radius:10px;padding:14px;box-shadow:0 8px 30px rgba(17,24,39,0.06)}

    /* Form styles */
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type=text], input[type=email], textarea, select{width:100%;padding:8px;border-radius:8px;border:1px solid #e6e9ef;background:#fff;color:inherit}
    textarea{min-height:80px}
    .row{display:flex;gap:10px}
    .btn{display:inline-block;padding:8px 12px;border-radius:8px;border:none;background:var(--accent);color:#fff;cursor:pointer}
    .ghost{background:transparent;border:1px solid #e6e9ef;color:var(--muted)}
    .muted{color:var(--muted);font-size:13px}
    .small{font-size:13px;padding:6px 8px}
    .section{margin-bottom:12px}

    /* Preview resume styles (print-ready) */
    .preview-wrap{padding:26px}
    .resume{max-width:820px;margin:0 auto;background:#fff;border-radius:6px;overflow:hidden;border:1px solid #e6e9ef}
    .resume-inner{display:flex;min-height:640px}
    .left-col{width:34%;background:#1f2937;color:#fff;padding:28px}
    .right-col{width:66%;padding:34px}
    .photo{width:140px;height:140px;border-radius:50%;overflow:hidden;border:6px solid #fff;margin:0 auto 12px;display:block}
    .name{font-size:28px;font-weight:700;color:#0b1220}
    .role{font-size:16px;color:#4b5563;margin-top:6px}
    .r-header{text-align:center}
    .contact-list{list-style:none;padding:0;margin:12px 0}
    .contact-list li{margin:8px 0;font-size:14px;color:#e6eef5}
    .section-title{font-weight:700;margin-top:8px;margin-bottom:8px;color:#e6eef5}
    .skill-pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#e6eef5;color:#0b1220;margin:4px 6px 0 0;font-size:12px}

    .r-section{margin-bottom:18px}
    .r-section h3{margin:0 0 8px 0;font-size:16px;color:#0b1220}
    .timeline-item{margin-bottom:12px}
    .timeline-year{font-weight:700;color:#0b1220}
    .timeline-role{font-weight:600}
    .muted-dark{color:#475569}

    /* utility */
    .flex{display:flex;gap:8px;align-items:center}
    .right-actions{display:flex;gap:8px}

    @media (max-width:980px){.grid{grid-template-columns:1fr} .resume-inner{flex-direction:column} .left-col,.right-col{width:100%}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>AI Resume Builder — Two Column Editor</h1>
      <div class="right-actions">
        <button class="btn small" onclick="downloadPDF()"><i class="fa fa-download"></i>&nbsp;Download PDF</button>
        <button class="btn ghost small" onclick="resetForm()">Clear</button>
      </div>
    </header>

    <div class="grid">
      <!-- FORM PANEL -->
      <div class="panel" style="height:100%">
        <h2 style="margin-top:0">Enter your details</h2>

        <div class="section">
          <label>Upload Photo</label>
          <input id="photoInput" type="file" accept="image/*">
          <div class="muted">Square or portrait photo works best.</div>
        </div>

        <div class="section">
          <label>Name</label>
          <input id="name" type="text" placeholder="Full name" value="Isabel Schumacher">
          <label style="margin-top:8px">Professional Title</label>
          <input id="title" type="text" placeholder="e.g. Graphics Designer" value="Graphics Designer">
        </div>

        <div class="section">
          <label>About / Summary</label>
          <textarea id="summary" placeholder="Short one-paragraph summary">Creative graphics designer with 4+ years experience producing visual identities and print collateral.</textarea>
        </div>

        <div class="section">
          <label>Contact details</label>
          <input id="phone" type="text" placeholder="Phone" value="+123-456-7890">
          <input id="email" type="email" placeholder="Email" value="hello@reallygreatsite.com" style="margin-top:8px">
          <input id="location" type="text" placeholder="Location" value="123 Anywhere Street, Any City" style="margin-top:8px">
        </div>

        <div class="section">
          <label>Skills (comma separated)</label>
          <input id="skills" type="text" placeholder="Web Design, Branding, Graphic Design" value="Web Design, Branding, Graphic Design, SEO">
        </div>

        <div class="section">
          <label>Languages (comma separated)</label>
          <input id="languages" type="text" placeholder="English, Hindi" value="English, French">
        </div>

        <!-- Dynamic Education -->
        <div class="section">
          <label style="display:flex;justify-content:space-between;align-items:center">Education <button class="btn small" onclick="addEducation();return false;">+ Add</button></label>
          <div id="educationList"></div>
        </div>

        <!-- Dynamic Experience -->
        <div class="section">
          <label style="display:flex;justify-content:space-between;align-items:center">Experience <button class="btn small" onclick="addExperience();return false;">+ Add</button></label>
          <div id="experienceList"></div>
        </div>

        <div style="margin-top:8px;display:flex;gap:8px">
          <button class="btn" onclick="renderPreview();">Live Preview</button>
          <button class="btn ghost" onclick="fillSample();">Load Sample</button>
        </div>

        <p class="muted" style="margin-top:12px">Tip: Click + Add to add multiple education or experience entries. Use Download PDF to save a print-ready copy.</p>
      </div>

      <!-- PREVIEW PANEL -->
      <div class="panel preview-wrap">
        <div id="previewArea" class="resume">
          <div class="resume-inner">
            <div class="left-col" id="leftCol">
              <img id="previewPhoto" class="photo" src="/mnt/data/9b57a883-7ac8-4147-ab7b-57d2f8f48480.png" alt="Photo">
              <div class="r-header" style="text-align:center;margin-top:6px">
                <div id="previewName" style="font-weight:700;font-size:18px">Isabel Schumacher</div>
                <div id="previewTitle" style="color:#cbd5e1;margin-top:6px">Graphics Designer</div>
              </div>

              <div class="r-section">
                <div class="section-title">About</div>
                <div id="previewSummary" style="color:#e6eef5;font-size:14px">Creative graphics designer with 4+ years experience producing visual identities and print collateral.</div>
              </div>

              <div class="r-section">
                <div class="section-title">Contact</div>
                <ul class="contact-list">
                  <li id="previewPhone"><i class="fa fa-phone"></i> +123-456-7890</li>
                  <li id="previewEmail"><i class="fa fa-envelope"></i> hello@reallygreatsite.com</li>
                  <li id="previewLocation"><i class="fa fa-map-marker"></i> 123 Anywhere Street, Any City</li>
                </ul>
              </div>

              <div class="r-section">
                <div class="section-title">Skills</div>
                <div id="previewSkills"></div>
              </div>

              <div class="r-section">
                <div class="section-title">Languages</div>
                <div id="previewLanguages" style="color:#e6eef5"></div>
              </div>
            </div>

            <div class="right-col">
              <div style="display:flex;justify-content:space-between;align-items:flex-start">
                <div>
                  <div class="name" id="previewFullName">Isabel Schumacher</div>
                  <div class="role" id="previewProfTitle">Graphics Designer</div>
                </div>
              </div>

              <div class="r-section">
                <h3>Education</h3>
                <div id="previewEducation"></div>
              </div>

              <div class="r-section">
                <h3>Experience</h3>
                <div id="previewExperience"></div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
  <script>
    // Helpers for dynamic lists
    function createElem(tag, attrs={}, html=''){
      const el = document.createElement(tag);
      for(const k in attrs) el.setAttribute(k, attrs[k]);
      el.innerHTML = html;
      return el;
    }

    // initial sample data arrays
    let educations = [ {year:'(2011 - 2015)', title:'Wardiere University', detail:'Bachelor of Design — 3.65'} ];
    let experiences = [ {year:'(2020 - 2023)', role:'Senior Graphic Designer', company:'Fauget studio', detail:'Created 100+ graphic designs for big companies'} ];

    // Render dynamic form inputs for education & experience
    function renderEducationInputs(){
      const container = document.getElementById('educationList'); container.innerHTML='';
      educations.forEach((ed,i)=>{
        const box = createElem('div', {style:'border:1px solid #eef2f6;padding:8px;border-radius:6px;margin-bottom:8px'});
        box.innerHTML = `
          <div class="row">
            <input type="text" placeholder="Year (e.g. 2011-2015)" value="${ed.year}" id="edu-year-${i}">
            <input type="text" placeholder="School / Degree" value="${ed.title}" id="edu-title-${i}">
          </div>
          <textarea id="edu-detail-${i}" style="margin-top:8px" placeholder="Details">${ed.detail}</textarea>
          <div style="margin-top:6px;text-align:right"><button class="btn ghost small" onclick="removeEducation(${i});return false;">Remove</button></div>
        `;
        container.appendChild(box);
      });
    }
    function renderExperienceInputs(){
      const container = document.getElementById('experienceList'); container.innerHTML='';
      experiences.forEach((ex,i)=>{
        const box = createElem('div', {style:'border:1px solid #eef2f6;padding:8px;border-radius:6px;margin-bottom:8px'});
        box.innerHTML = `
          <div class="row">
            <input type="text" placeholder="Year (e.g. 2020-2023)" value="${ex.year}" id="exp-year-${i}">
            <input type="text" placeholder="Role" value="${ex.role}" id="exp-role-${i}">
          </div>
          <input type="text" placeholder="Company" value="${ex.company}" id="exp-company-${i}" style="margin-top:8px">
          <textarea id="exp-detail-${i}" style="margin-top:8px" placeholder="Detail / achievements">${ex.detail}</textarea>
          <div style="margin-top:6px;text-align:right"><button class="btn ghost small" onclick="removeExperience(${i});return false;">Remove</button></div>
        `;
        container.appendChild(box);
      });
    }

    function addEducation(){ educations.push({year:'', title:'', detail:''}); renderEducationInputs(); }
    function removeEducation(i){ educations.splice(i,1); renderEducationInputs(); }
    function addExperience(){ experiences.push({year:'', role:'', company:'', detail:''}); renderExperienceInputs(); }
    function removeExperience(i){ experiences.splice(i,1); renderExperienceInputs(); }

    // Photo upload preview
    const photoInput = document.getElementById('photoInput');
    const previewPhoto = document.getElementById('previewPhoto');
    photoInput.addEventListener('change', ()=>{
      const f = photoInput.files[0];
      if(!f) return;
      const reader = new FileReader();
      reader.onload = e => { previewPhoto.src = e.target.result; }
      reader.readAsDataURL(f);
    });

    // Build preview from form
    function collectFormToState(){
      // collect educations and experiences from inputs
      educations = educations.map((ed,i)=>({ year: document.getElementById('edu-year-'+i)?.value||'', title: document.getElementById('edu-title-'+i)?.value||'', detail: document.getElementById('edu-detail-'+i)?.value||'' }));
      experiences = experiences.map((ex,i)=>({ year: document.getElementById('exp-year-'+i)?.value||'', role: document.getElementById('exp-role-'+i)?.value||'', company: document.getElementById('exp-company-'+i)?.value||'', detail: document.getElementById('exp-detail-'+i)?.value||'' }));

      return {
        name: document.getElementById('name').value,
        title: document.getElementById('title').value,
        summary: document.getElementById('summary').value,
        phone: document.getElementById('phone').value,
        email: document.getElementById('email').value,
        location: document.getElementById('location').value,
        skills: document.getElementById('skills').value,
        languages: document.getElementById('languages').value,
        educations, experiences
      };
    }

    function renderPreview(){
      const state = collectFormToState();
      document.getElementById('previewName').innerText = state.name || 'Your Name';
      document.getElementById('previewFullName').innerText = state.name || 'Your Name';
      document.getElementById('previewTitle').innerText = state.title || 'Professional Title';
      document.getElementById('previewProfTitle').innerText = state.title || 'Professional Title';
      document.getElementById('previewSummary').innerText = state.summary || '';
      document.getElementById('previewPhone').innerHTML = '<i class="fa fa-phone"></i> ' + (state.phone||'');
      document.getElementById('previewEmail').innerHTML = '<i class="fa fa-envelope"></i> ' + (state.email||'');
      document.getElementById('previewLocation').innerHTML = '<i class="fa fa-map-marker"></i> ' + (state.location||'');

      // skills
      const skillsDiv = document.getElementById('previewSkills'); skillsDiv.innerHTML = '';
      (state.skills||'').split(',').map(s=>s.trim()).filter(Boolean).forEach(s=>{ const sp = createElem('span',{class:'skill-pill'}, s); skillsDiv.appendChild(sp); });

      // languages
      document.getElementById('previewLanguages').innerText = state.languages || '';

      // education
      const edDiv = document.getElementById('previewEducation'); edDiv.innerHTML='';
      (state.educations||[]).forEach(ed=>{
        const box = createElem('div',{class:'timeline-item'}, `<div class="timeline-year">${escapeHtml(ed.year||'')}</div><div class="timeline-role">${escapeHtml(ed.title||'')}</div><div class="muted-dark">${escapeHtml(ed.detail||'')}</div>`);
        edDiv.appendChild(box);
      });

      // experience
      const exDiv = document.getElementById('previewExperience'); exDiv.innerHTML='';
      (state.experiences||[]).forEach(ex=>{
        const box = createElem('div',{class:'timeline-item'}, `<div class="timeline-year">${escapeHtml(ex.year||'')}</div><div class="timeline-role">${escapeHtml(ex.role||'')} — <span class="muted-dark">${escapeHtml(ex.company||'')}</span></div><div class="muted-dark">${escapeHtml(ex.detail||'')}</div>`);
        exDiv.appendChild(box);
      });
    }

    // Utilities
    function escapeHtml(s){ if(!s) return ''; return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

    // PDF export
    function downloadPDF(){
      renderPreview();
      const el = document.getElementById('previewArea');
      const opt = {margin:0.4, filename:(document.getElementById('name').value||'resume') + '.pdf', image:{type:'jpeg', quality:0.98}, html2canvas:{scale:2}, jsPDF:{unit:'in', format:'a4', orientation:'portrait'}};
      html2pdf().set(opt).from(el).save().catch(e=>{ alert('PDF failed — try browser print.'); console.error(e); });
    }

    // Sample & reset
    function fillSample(){
      document.getElementById('name').value='Isabel Schumacher';
      document.getElementById('title').value='Graphics Designer';
      document.getElementById('summary').value='Creative graphics designer with 4+ years experience producing visual identities and print collateral.';
      document.getElementById('phone').value='+123-456-7890';
      document.getElementById('email').value='hello@reallygreatsite.com';
      document.getElementById('location').value='123 Anywhere Street, Any City';
      document.getElementById('skills').value='Web Design, Branding, Graphic Design, SEO';
      document.getElementById('languages').value='English, French';
      educations = [{year:'(2011 - 2015)', title:'Wardiere University — Bachelor of Design', detail:'CGPA: 3.65'},{year:'(2014 - 2019)', title:'Wardiere University', detail:'Bachelor of Design — 3.74'}];
      experiences = [{year:'(2020 - 2023)', role:'Senior Graphic Designer', company:'Fauget studio', detail:'Created 100+ graphic designs for big companies'},{year:'(2017 - 2019)', role:'Senior Graphic Designer', company:'larana, inc', detail:'Led creative team on multiple campaigns.'}];
      renderEducationInputs(); renderExperienceInputs(); renderPreview();
    }
    function resetForm(){ if(confirm('Clear everything and reset?')){ document.querySelectorAll('input[type=text], input[type=email], textarea').forEach(i=>i.value=''); educations=[]; experiences=[]; renderEducationInputs(); renderExperienceInputs(); renderPreview(); } }

    // initial render
    renderEducationInputs(); renderExperienceInputs(); renderPreview();
  </script>
</body>
</html>
